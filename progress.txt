## Codebase Patterns
- Use `NODE_ENV=development` when running pnpm install, build, or test (env defaults to production)
- Core package uses tsup for build, vitest for tests
- Hash format is always `sha256:<64-hex-chars>`
- Use Node.js built-in `crypto` for SHA-256, `@noble/ed25519` for signing
- TypeScript strict mode is on — no `any`, explicit return types
- Schema validation uses `ajv` with `ajv-formats`
---

## 2026-02-18 - Initial Setup
- Project scaffolded with P11-01 stories 1-11 already implemented
- Stories 12 (event creation), 13 (exports update), and 14 (comprehensive tests) remain
- Existing tests pass (hash.test.ts — 7 tests)
- TypeScript strict mode compiles cleanly
---

## 2026-02-18 - P11-01-12 - VCOT Event Creation Helper
- Implemented `createVCOTEvent()` in `packages/core/src/event.ts`
- Inline UUIDv7 generation using Node.js `crypto.randomBytes`
- Updated `packages/core/src/index.ts` to export from `./event`
- Files changed: `packages/core/src/event.ts` (new), `packages/core/src/index.ts`
- **Learnings for future iterations:**
  - UUIDv7 is implemented inline (no external dep) — 48-bit ms timestamp + random, version 7 nibble, variant 10xx
  - `@noble/ed25519` uses async APIs (`signAsync`, `verifyAsync`, `getPublicKeyAsync`)
  - Schema validates `event_id` as UUID format — UUIDv7 is compatible
  - `computeEventHash` uses pipe-delimited fields: `event_id|event_type|timestamp|agent_id|content_hash|previous_hash`
---
